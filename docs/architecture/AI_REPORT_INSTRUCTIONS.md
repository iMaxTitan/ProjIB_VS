# AI Інструкції для генерації звітів SOC

> Дата створення: 2026-01-28
> Версія: 1.0

## 1. Призначення

Цей документ містить інструкції для AI-моделі щодо генерації текстів звітів (актів виконаних робіт) з надання послуг SOC.

## 2. Маппінг процесів ІБ на послуги договору

### Таблиця відповідності

| ID процесу | Назва процесу ІБ | Послуги з договору |
|------------|-----------------|-------------------|
| `d131d36c-05ef-4e3c-a5dc-3e52eca89947` | **Управління правами доступу** | узгодження надання доступу до ІС; захист від несанкціонованого доступу до інформаційних активів; розмежування прав користувачів |
| `24bd91ff-e239-4ced-8a76-568ffee96328` | **Моніторинг та реагування на події та інциденти ІБ** | моніторинг подій інформаційної безпеки; виявлення атак, підозрілої активності; оперативне реагування; дослідження інцидентів |
| `19e0c6a4-0a3a-49c2-a4ac-27fe93447ef6` | **Управління ризиками інформаційної безпеки** | аналіз ризиків інформаційної безпеки; проведення оцінки ризиків; актуалізація плану обробки ризиків; перегляд матриці ризиків |
| `a684e4d7-3e9e-4dff-a46e-79b0400f2dda` | **Навчання та підвищення обізнаності у сфері ІБ** | організація та проведення навчання; підвищення обізнаності співробітників; оновлення учбових матеріалів |
| `21a14ed2-1e15-407a-bae4-6d48a93bc42c` | **Управління документацією СУІБ** | створення нормативної документації; плановий/неплановий перегляд документації; актуалізація документів |
| `f5e88dfd-07e2-47e4-a4d8-52e166ada138` | **Захист даних** | контроль резервного копіювання; моніторинг забезпечення конфіденційності; управління інформаційними активами |
| `4dd284c2-5054-44b8-8e69-b7453a11eaf7` | **Управління безпекою мережі** | моніторинг подій антивірусного ПЗ; технічна підтримка сервісів; експлуатація комунікаційного обладнання |
| `693ef591-a165-49c1-a16e-26ec9cfed754` | **Управління безпекою інформаційних систем** | перевірка та аналіз поточного стану ІС; технічна підтримка сервісів та програм; перевірка версій ПЗ |
| `535bbb05-2bcd-4884-b6f4-0610aec43db7` | **Управління безпекою обчислювальних систем** | аудит робочих станцій на відповідність стандартам; перевірка серверів на відповідність стандартам; мінімізація ризиків вразливого ПЗ |
| `d6504c36-dc7a-4835-b477-ef366a13347b` | **Безперервність інформаційної безпеки** | організація заходів щодо попередження надзвичайних ситуацій; контроль резервного копіювання |
| `4bbb4e4c-6346-465f-8105-ff2b19043a98` | **Управлінська та організаційна діяльність** | координування та відстеження прогресу проектів ІБ; ведення проектів; консультування; участь в аудитах |

## 3. Категорії послуг (структура договору)

### Категорія 1: Забезпечення кібербезпеки ІКС

**Процеси ІБ:** Управління безпекою мережі, Управління безпекою ІС, Захист даних

**Послуги:**
- надання послуг з експлуатації та технічного обслуговування комунікаційного обладнання
- перевірка та аналіз поточного стану інформаційних систем
- проведення комплексної перевірки та аналізу інформаційної безпеки
- аудит робочих станцій на відповідність стандартам ІБ
- перевірка серверів на відповідність стандартам ІБ
- моніторинг подій в роботі антивірусного ПЗ
- контроль резервного копіювання
- централізоване управління і контроль захищеності ІС
- узгодження надання доступу до ІС
- технічна підтримка сервісів

### Категорія 2: Розроблення та впровадження організаційних заходів

**Процеси ІБ:** Моніторинг та реагування, Управління ризиками, Навчання

**Послуги:**
- розробка рекомендацій щодо підвищення стану ІБ
- виявлення атак, підозрілої активності, спроб НСД
- захист від несанкціонованого доступу
- моніторинг подій інформаційної та кібербезпеки
- моніторинг вразливостей ІБ
- перевірка та контроль усунення вразливостей
- управління інформаційними активами
- моніторинг забезпечення конфіденційності
- аналіз ризиків ІБ
- проведення оцінки ризиків ІБ
- актуалізація плану обробки ризиків
- перегляд матриці ризиків ІБ
- мінімізація ризиків використання вразливого ПЗ
- дослідження інцидентів
- організація навчання в сфері ІБ
- підвищення обізнаності співробітників
- участь в службових розслідуваннях та аудитах
- створення нормативної документації
- перегляд нормативної документації
- оновлення учбових матеріалів

### Категорія 3: Оброблення та аналіз даних про кіберінцидент

**Процеси ІБ:** Моніторинг та реагування, Управління ризиками

**Послуги:**
- складання звітності за результатами надання послуг
- перевірки, аналіз та класифікація можливих загроз
- надання звітності щодо інцидентів ІБ
- надання рекомендацій щодо алгоритмів ліквідації загроз

### Категорія 4: Планування та проектування систем

**Процеси ІБ:** Управлінська діяльність

**Послуги:**
- опрацювання вимог ІБ до проектів
- координування та відстеження прогресу проектів ІБ
- ведення проектів щодо впровадження рішень ІБ

### Категорія 5: Надання консультацій

**Процеси ІБ:** Управлінська діяльність, Навчання

**Послуги:**
- супровід або консультування в рамках проекту
- консультування з питань службових перевірок

## 4. System Prompt для генерації звіту

```
Ти — асистент для формування актів виконаних робіт з надання послуг SOC (Security Operations Center).

КОНТЕКСТ:
Ти формуєш звіт для підприємства "{company_name}" за період {month} {year}.

ВХІДНІ ДАНІ:
- Список виконаних задач з описами та годинами
- Процеси ІБ, до яких відносяться задачі
- ПІБ виконавців

МАППІНГ ПРОЦЕСІВ НА ПОСЛУГИ:
{mapping_json}

ПРАВИЛА ФОРМУВАННЯ:
1. Групуй задачі за категоріями послуг з договору
2. Для кожної задачі визначай відповідну послугу на основі:
   - Процесу ІБ (primary)
   - Опису задачі (secondary)
3. Використовуй офіційні назви послуг з договору (українською)
4. Вказуй кількість операцій або годин де це доречно
5. Не вигадуй роботи, яких не було в даних

ФОРМАТ ВИВОДУ:
Структурований текст для вставки в Word документ:
- Категорії послуг як заголовки
- Підпункти з конкретними роботами
- Підсумок: загальна кількість годин, виконавці

МОВА: українська
```

## 5. Приклад вхідних даних

```json
{
  "company": {
    "name": "АТБ Маркет",
    "infrastructure": {
      "servers": 45,
      "workstations": 1200
    }
  },
  "period": {
    "year": 2026,
    "month": 1
  },
  "tasks": [
    {
      "description": "Надання доступу до SAP для нового співробітника",
      "hours": 2,
      "process_name": "Управління правами доступу",
      "employee": "Петренко І.І.",
      "date": "2026-01-15"
    },
    {
      "description": "Аналіз підозрілої активності в мережі",
      "hours": 4,
      "process_name": "Моніторинг та реагування на події та інциденти ІБ",
      "employee": "Сидоренко О.В.",
      "date": "2026-01-16"
    }
  ]
}
```

## 6. Приклад виводу

```
ПЕРЕЛІК ПОСЛУГ ЩО НАДАЄ ВИКОНАВЕЦЬ:

1. Забезпечення кібербезпеки інформаційно-комунікаційних систем:
   • узгодження надання доступу до ІС — 15 операцій (30 год.)
   • моніторинг подій антивірусного ПЗ — постійний моніторинг
   • технічна підтримка сервісів — 12 год.

2. Розроблення та впровадження організаційних заходів:
   • моніторинг подій інформаційної безпеки — 156 год.
   • виявлення атак та підозрілої активності — 5 інцидентів (24 год.)
   • аналіз ризиків інформаційної безпеки — 8 год.

Загальна кількість годин: 230

Виконавці:
- Петренко Іван Іванович
- Сидоренко Олексій Вікторович
- Коваленко Марія Петрівна
```

## 7. Обробка edge cases

### 7.1. Задача без явного процесу

Якщо задача не має прив'язки до процесу ІБ, AI визначає категорію на основі ключових слів в описі:

| Ключові слова | Категорія |
|---------------|-----------|
| доступ, права, дозвіл | Управління правами доступу |
| інцидент, атака, підозріла | Моніторинг та реагування |
| документ, інструкція, політика | Управління документацією |
| резервн, бекап, копіюван | Захист даних |
| аудит, перевірка, стандарт | Управління безпекою ІС |

### 7.2. Задача відноситься до кількох категорій

Якщо задача може відноситись до кількох послуг — обирати найбільш специфічну (вузьку) категорію.

## 8. Оновлення маппінгу

При зміні договору або процесів ІБ:
1. Оновити таблицю в розділі 2
2. Оновити JSON маппінг в промпті (розділ 4)
3. Протестувати генерацію на прикладі

## 9. Інтеграція в код

### 9.1. Файл конфігурації

```typescript
// src/lib/ai/report-config.ts
export const PROCESS_TO_SERVICES_MAPPING = {
  'd131d36c-05ef-4e3c-a5dc-3e52eca89947': {
    processName: 'Управління правами доступу',
    category: 1,
    services: [
      'узгодження надання доступу до ІС',
      'захист від несанкціонованого доступу',
      'розмежування прав користувачів'
    ]
  },
  // ... інші процеси
};
```

### 9.2. API endpoint

```typescript
// src/app/api/ai/report/route.ts
export async function POST(request: Request) {
  const { companyId, year, month } = await request.json();

  // 1. Отримати дані з БД
  const tasks = await getMonthlyCompanyTasks(companyId, year, month);

  // 2. Сформувати промпт з маппінгом
  const prompt = buildReportPrompt(tasks, PROCESS_TO_SERVICES_MAPPING);

  // 3. Викликати Claude API
  const reportText = await generateWithClaude(prompt);

  return Response.json({ reportText });
}
```
