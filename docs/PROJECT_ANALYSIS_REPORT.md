# üìä –ü–û–õ–ù–´–ô –ê–ù–ê–õ–ò–ó –ü–†–û–ï–ö–¢–ê ReportIB

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2026-01-14
**–í–µ—Ä—Å–∏—è:** 1.0.0
**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞:** ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç —Å—Ä–æ—á–Ω—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π

---

## üìë –°–û–î–ï–†–ñ–ê–ù–ò–ï

1. [–û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è](#–æ–±—â–∞—è-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
3. [–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏](#–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–æ–±–ª–µ–º—ã-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
4. [–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞](#–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ-–∫–æ–¥–∞)
5. [–ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∞–π–ª—ã](#–Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ-—Ñ–∞–π–ª—ã)
6. [–ö–∞—á–µ—Å—Ç–≤–æ TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏–∏](#–∫–∞—á–µ—Å—Ç–≤–æ-typescript-—Ç–∏–ø–∏–∑–∞—Ü–∏–∏)
7. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)
8. [–ê–Ω–∞–ª–∏–∑ –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π](#–∞–Ω–∞–ª–∏–∑-–æ—Å–Ω–æ–≤–Ω—ã—Ö-–º–æ–¥—É–ª–µ–π)
9. [–ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏](#–ø—Ä–æ–±–ª–µ–º—ã-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
10. [–ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π](#–ø–ª–∞–Ω-–¥–µ–π—Å—Ç–≤–∏–π)
11. [–ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞](#–º–µ—Ç—Ä–∏–∫–∏-–∫–∞—á–µ—Å—Ç–≤–∞)

---

## üéØ –û–ë–©–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø

### –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
```
Frontend:
‚îú‚îÄ‚îÄ Next.js 15.3.0 (App Router)
‚îú‚îÄ‚îÄ React 19.1.0
‚îú‚îÄ‚îÄ TypeScript 5.3.3
‚îú‚îÄ‚îÄ Tailwind CSS 3.3.0
‚îî‚îÄ‚îÄ Ant Design 5.25.1

Backend:
‚îú‚îÄ‚îÄ Next.js API Routes
‚îú‚îÄ‚îÄ Supabase (PostgreSQL)
‚îî‚îÄ‚îÄ Microsoft Graph API

Authentication:
‚îú‚îÄ‚îÄ Azure AD (MSAL Browser 2.39.0)
‚îî‚îÄ‚îÄ Supabase Auth

Deployment:
‚îî‚îÄ‚îÄ HTTPS (maxtitan.me:3000)
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
src/
‚îú‚îÄ‚îÄ app/                      # Next.js —Å—Ç—Ä–∞–Ω–∏—Ü—ã (App Router)
‚îÇ   ‚îú‚îÄ‚îÄ api/                  # API routes
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/            # –°—Ç—Ä–∞–Ω–∏—Ü—ã –¥–∞—à–±–æ—Ä–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ auth/                 # –°—Ç—Ä–∞–Ω–∏—Ü—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ layout.tsx            # Root layout
‚îú‚îÄ‚îÄ components/               # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ auth/                 # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/            # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–∞—à–±–æ—Ä–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ employees/            # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ layout/               # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–∞–∫–µ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ planning/             # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ sidebar/              # –°–∞–π–¥–±–∞—Ä
‚îÇ   ‚îî‚îÄ‚îÄ ui/                   # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ context/                  # React Context
‚îú‚îÄ‚îÄ hooks/                    # Custom React hooks
‚îú‚îÄ‚îÄ lib/                      # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ auth/                 # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ config/               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ plans/                # –°–µ—Ä–≤–∏—Å—ã –¥–ª—è –ø–ª–∞–Ω–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ services/             # –î—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îî‚îÄ‚îÄ tasks/                # –°–µ—Ä–≤–∏—Å—ã –¥–ª—è –∑–∞–¥–∞—á
‚îú‚îÄ‚îÄ services/                 # External services
‚îÇ   ‚îî‚îÄ‚îÄ graph/                # Microsoft Graph API
‚îú‚îÄ‚îÄ styles/                   # CSS —Å—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ types/                    # TypeScript —Ç–∏–ø—ã
‚îî‚îÄ‚îÄ utils/                    # –£—Ç–∏–ª–∏—Ç—ã

–í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤ TypeScript: 103
```

### –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

**ReportIB** - —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–ª–∞–Ω–∞–º–∏ –∏ –æ—Ç—á–µ—Ç–∞–º–∏ –¥–ª—è –±–∏–∑–Ω–µ—Å–∞, –≤–∫–ª—é—á–∞—é—â–∞—è:

- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ–¥–æ–≤—ã–º–∏, –∫–≤–∞—Ä—Ç–∞–ª—å–Ω—ã–º–∏ –∏ –Ω–µ–¥–µ–ª—å–Ω—ã–º–∏ –ø–ª–∞–Ω–∞–º–∏
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ KPI –∏ –º–µ—Ç—Ä–∏–∫
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏ –∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Microsoft 365
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏ –∏ –æ—Ç–¥–µ–ª–∞–º–∏
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### ‚úÖ –•–æ—Ä–æ—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏:
1. **App Router** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ Next.js 15 App Router
2. **Server/Client Components** - –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ
3. **API Routes** - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ API endpoints
4. **Custom Hooks** - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –ª–æ–≥–∏–∫–∞
5. **TypeScript** - —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è (–≤–∫–ª—é—á–µ–Ω strict mode)

#### ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã:
1. **Props Drilling** - –ø–µ—Ä–µ–¥–∞—á–∞ user —á–µ—Ä–µ–∑ 5+ —É—Ä–æ–≤–Ω–µ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
2. **–ë–æ–ª—å—à–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** - 300+ —Å—Ç—Ä–æ–∫ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ
3. **–°–º–µ—à–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞** - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –≤–º–µ—Å—Ç–æ —Å–µ—Ä–≤–∏—Å–æ–≤
4. **Custom State Management** - –≤–º–µ—Å—Ç–æ Redux/Zustand –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–≤–æ–π KPIStore

### –°—Ö–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Browser   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îÇ 1. Login
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Azure AD      ‚îÇ ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ Microsoft 365 Integration
‚îÇ   (MSAL)        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îÇ 2. Get Token
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Next.js App     ‚îÇ
‚îÇ  (Middleware)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îÇ 3. Verify & Get User
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    Supabase      ‚îÇ ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ PostgreSQL Database
‚îÇ   (User Profile) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò

### 1. –£—Ç–µ—á–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ `.env.local`

**SEVERITY: CRITICAL** üî¥

**–ü—Ä–æ–±–ª–µ–º–∞:**
```env
# ‚ùå –§–ê–ô–õ .env.local –°–û–î–ï–†–ñ–ò–¢ –ß–£–í–°–¢–í–ò–¢–ï–õ–¨–ù–´–ï –î–ê–ù–ù–´–ï
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
AZURE_AD_CLIENT_SECRET=1fQ8Q~LnA31Ka1xkhsKsTiHi6FMlC_KIfdiFway1
```

**–†–∏—Å–∫–∏:**
- ‚ùå Service Role Key –¥–∞–µ—Ç **–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø** –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚ùå Azure Client Secret –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –æ—Ç –∏–º–µ–Ω–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚ùå –ï—Å–ª–∏ —Ñ–∞–π–ª –ø–æ–ø–∞–¥–µ—Ç –≤ Git - –≤—Å–µ —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω–æ

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –î–æ–±–∞–≤–∏—Ç—å –≤ .gitignore
echo ".env.local" >> .gitignore
echo ".env*.local" >> .gitignore
echo "*.env" >> .gitignore

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é Git
git log --all --full-history -- .env.local

# 3. –ï—Å–ª–∏ —Ñ–∞–π–ª —É–∂–µ –≤ Git - —É–¥–∞–ª–∏—Ç—å –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏
git filter-branch --force --index-filter \
  "git rm --cached --ignore-unmatch .env.local" \
  --prune-empty --tag-name-filter cat -- --all

# 4. –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —Ä–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∫–ª—é—á–∏:
# - Supabase: —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π Service Role Key
# - Azure: —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π Client Secret
```

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```env
# .env.local (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å!)
NEXT_PUBLIC_SUPABASE_URL=https://...
NEXT_PUBLIC_SUPABASE_ANON_KEY=<public_key>

# .env.production (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
SUPABASE_SERVICE_ROLE_KEY=<secret_key>
AZURE_AD_CLIENT_SECRET=<secret>
```

---

### 2. –≠–∫—Å–ø–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Client Secret –≤ –±—Ä–∞—É–∑–µ—Ä–µ

**SEVERITY: CRITICAL** üî¥

**–§–∞–π–ª:** `src/lib/auth/config.ts`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - —Å–µ–∫—Ä–µ—Ç –≤–∏–¥–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–µ
export const msalConfig = {
  auth: {
    clientId: process.env.NEXT_PUBLIC_AZURE_AD_CLIENT_ID || '',
    // ‚ùå NEXT_PUBLIC_ –æ–∑–Ω–∞—á–∞–µ—Ç —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –±—É–¥–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ!
    clientSecret: process.env.NEXT_PUBLIC_AZURE_AD_CLIENT_SECRET || '',
  }
};
```

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - —Å–µ–∫—Ä–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
// src/lib/auth/config.ts (–¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞)
export const msalConfig = {
  auth: {
    clientId: process.env.NEXT_PUBLIC_AZURE_AD_CLIENT_ID || '',
    // clientSecret –í–û–û–ë–©–ï –ù–ï –ù–£–ñ–ï–ù –≤ –±—Ä–∞—É–∑–µ—Ä–µ
  }
};

// src/lib/auth/server-config.ts (–¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞)
export const serverAuthConfig = {
  clientSecret: process.env.AZURE_AD_CLIENT_SECRET || '',
};
```

---

### 3. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ JWT —Ç–æ–∫–µ–Ω–æ–≤

**SEVERITY: HIGH** üü†

**–§–∞–π–ª—ã:** `src/app/api/auth/*`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
// ‚ùå API routes –ø—Ä–∏–Ω–∏–º–∞—é—Ç —Ç–æ–∫–µ–Ω—ã –±–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
export async function GET(request: NextRequest) {
  const token = request.cookies.get('auth-token')?.value;
  // –¢–æ–∫–µ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ë–ï–ó –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏!
  const user = await getUser(token);
}
```

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// ‚úÖ –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å JWT –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
import { jwtVerify } from 'jose';

export async function GET(request: NextRequest) {
  const token = request.cookies.get('auth-token')?.value;

  if (!token) {
    return new Response('Unauthorized', { status: 401 });
  }

  try {
    const secret = new TextEncoder().encode(
      process.env.JWT_SECRET
    );
    const { payload } = await jwtVerify(token, secret);

    // –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å payload
    const user = await getUser(payload.sub);
  } catch (error) {
    return new Response('Invalid token', { status: 401 });
  }
}
```

---

### 4. –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ cookies

**SEVERITY: HIGH** üü†

**–§–∞–π–ª:** `src/lib/auth/index.ts:38-43`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
// ‚ö†Ô∏è sameSite: 'lax' –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç CSRF
Cookies.set('auth-status', 'authenticated', {
  expires: 1,
  path: '/',
  sameSite: 'lax',  // ‚ö†Ô∏è –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 'strict'
  // ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç secure: true
  // ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç httpOnly: true
});
```

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ cookies
Cookies.set('auth-status', 'authenticated', {
  expires: 1,
  path: '/',
  sameSite: 'strict',  // ‚úÖ –°—Ç—Ä–æ–≥–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç CSRF
  secure: true,        // ‚úÖ –¢–æ–ª—å–∫–æ HTTPS
  httpOnly: true,      // ‚úÖ –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è JavaScript
});
```

---

### 5. SQL Injection —Ä–∏—Å–∫ –≤ RPC –≤—ã–∑–æ–≤–∞—Ö

**SEVERITY: MEDIUM** üü°

**–§–∞–π–ª:** `src/lib/plans/plan-service.ts`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
// ‚ö†Ô∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ —ç–∫—Ä–∞–Ω–∏—Ä—É—é—Ç—Å—è
export async function manageAnnualPlan(params: {
  year: number;
  goal: string;  // ‚ö†Ô∏è –ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å SQL –∫–æ–¥
}) {
  const { data, error } = await supabase.rpc('manage_annual_plan', params);
}
```

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å prepared statements –∏–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é
export async function manageAnnualPlan(params: {
  year: number;
  goal: string;
}) {
  // –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
  if (!params.goal || params.goal.length > 1000) {
    throw new Error('Invalid goal parameter');
  }

  // –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
  const sanitizedGoal = params.goal
    .replace(/['";]/g, '')  // –£–±—Ä–∞—Ç—å –æ–ø–∞—Å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
    .trim();

  const { data, error } = await supabase.rpc('manage_annual_plan', {
    ...params,
    goal: sanitizedGoal,
  });
}
```

---

### 6. Console.log –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

**SEVERITY: MEDIUM** üü°

**–ü—Ä–æ–±–ª–µ–º–∞:**
- ‚ùå 25+ —Ñ–∞–π–ª–æ–≤ —Å–æ–¥–µ—Ä–∂–∞—Ç `console.log()`
- ‚ùå –õ–æ–≥–∏—Ä—É—é—Ç—Å—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ç–æ–∫–µ–Ω—ã, user info)
- ‚ùå –†–∞—Å–∫—Ä—ã–≤–∞—é—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –ª–æ–≥–∏–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–§–∞–π–ª—ã:**
```
src/lib/auth/index.ts          - 8 console.log
src/middleware.ts              - 8 console.log
src/components/dashboard/*     - 10+ console.log
```

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// 1. –°–æ–∑–¥–∞—Ç—å logger —É—Ç–∏–ª–∏—Ç—É
// src/lib/logger.ts
const isDev = process.env.NODE_ENV === 'development';

export const logger = {
  debug: (...args: any[]) => {
    if (isDev) console.log('[DEBUG]', ...args);
  },
  info: (...args: any[]) => {
    if (isDev) console.info('[INFO]', ...args);
  },
  warn: (...args: any[]) => {
    console.warn('[WARN]', ...args);
  },
  error: (...args: any[]) => {
    console.error('[ERROR]', ...args);
  },
};

// 2. –ó–∞–º–µ–Ω–∏—Ç—å –≤–µ–∑–¥–µ
- console.log(user)
+ logger.debug('User:', user)
```

---

### 7. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ Rate Limiting

**SEVERITY: MEDIUM** üü°

**–ü—Ä–æ–±–ª–µ–º–∞:**
- ‚ùå API routes –Ω–µ –∑–∞—â–∏—â–µ–Ω—ã –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞
- ‚ùå –ú–æ–∂–Ω–æ —Å–ø–∞–º–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–æ–≤/–∑–∞–¥–∞—á
- ‚ùå –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç DDoS

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// src/lib/rate-limiter.ts
import { RateLimiter } from 'limiter';

const limiter = new RateLimiter({
  tokensPerInterval: 10,
  interval: 'minute',
});

export async function checkRateLimit(userId: string) {
  const remaining = await limiter.removeTokens(1);
  if (remaining < 0) {
    throw new Error('Rate limit exceeded');
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ API route
export async function POST(request: NextRequest) {
  await checkRateLimit(userId);
  // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
}
```

---

## üîÑ –î–£–ë–õ–ò–†–û–í–ê–ù–ò–ï –ö–û–î–ê

### 1. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

**–§–∞–π–ª—ã:**
- `src/lib/auth/index.ts` ‚úÖ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- `src/lib/msalAuth.ts` ‚ùå (–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, 100% –¥—É–±–ª–∏—Ä—É–µ—Ç)
- `src/lib/msal.ts` ‚ö†Ô∏è (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π, –ø—Ä–æ—Å—Ç–æ —ç–∫—Å–ø–æ—Ä—Ç)

**–î–µ—Ç–∞–ª–∏:**

#### `src/lib/msalAuth.ts` (163 —Å—Ç—Ä–æ–∫–∏) - –£–î–ê–õ–ò–¢–¨

```typescript
// ‚ùå –ü–æ–ª–Ω–æ—Å—Ç—å—é –¥—É–±–ª–∏—Ä—É–µ—Ç src/lib/auth/index.ts

export async function initializeMsal() { ... }  // –î—É–±–ª–∏–∫–∞—Ç
export function getActiveAccount() { ... }       // –î—É–±–ª–∏–∫–∞—Ç
export async function getMsalToken() { ... }     // –î—É–±–ª–∏–∫–∞—Ç
export async function signIn() { ... }           // –î—É–±–ª–∏–∫–∞—Ç
export async function signOut() { ... }          // –î—É–±–ª–∏–∫–∞—Ç
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
grep -r "from '@/lib/msalAuth'" src/
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –ù–ò–ì–î–ï –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø
```

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª
rm src/lib/msalAuth.ts
```

---

### 2. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ - Plan Service

**–§–∞–π–ª—ã:**
- `src/lib/plan-service.ts` ‚ùå (–£–°–¢–ê–†–ï–õ, –Ω–æ –µ—â–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- `src/lib/plans/plan-service.ts` ‚úÖ (–ù–û–í–´–ô, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π)

**–ü—Ä–æ–±–ª–µ–º–∞:**

```typescript
// ‚ùå src/lib/plan-service.ts (–°–¢–ê–†–´–ô - 250 —Å—Ç—Ä–æ–∫)
export class PlanService {
  static async manageAnnualPlan(params) { ... }
  static async manageQuarterlyPlan(params) { ... }
  static async manageWeeklyPlan(params) { ... }
}

// ‚úÖ src/lib/plans/plan-service.ts (–ù–û–í–´–ô - 180 —Å—Ç—Ä–æ–∫)
export async function manageAnnualPlan(params) { ... }
export async function manageQuarterlyPlan(params) { ... }
export async function manageWeeklyPlan(params) { ... }
```

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –°–¢–ê–†–´–ô:**
```
src/components/planning/AnnualPlanModal.tsx:3
src/components/planning/QuarterlyPlanModal.tsx:5
```

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ù–û–í–´–ô:**
```
src/components/dashboard/Tasks/WeeklyPlansTasksBoard.tsx
src/lib/plans/index.ts
```

**–†–µ—à–µ–Ω–∏–µ:**

**–®–∞–≥ 1:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
```typescript
// ‚ùå –ë–´–õ–û –≤ AnnualPlanModal.tsx
import { PlanService } from '@/lib/plan-service';
await PlanService.manageAnnualPlan({ ... });

// ‚úÖ –î–û–õ–ñ–ù–û –ë–´–¢–¨
import { manageAnnualPlan } from '@/lib/plans/plan-service';
await manageAnnualPlan({ ... });
```

**–®–∞–≥ 2:** –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–ª—è QuarterlyPlanModal.tsx

**–®–∞–≥ 3:** –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π —Ñ–∞–π–ª
```bash
rm src/lib/plan-service.ts
```

---

### 3. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö –ø–ª–∞–Ω–æ–≤

**–§–∞–π–ª—ã:**
- `src/components/planning/AnnualPlanModal.tsx` (180+ —Å—Ç—Ä–æ–∫)
- `src/components/planning/QuarterlyPlanModal.tsx` (200+ —Å—Ç—Ä–æ–∫)
- `src/components/planning/WeeklyPlanModal.tsx` (300+ —Å—Ç—Ä–æ–∫)

**–î—É–±–ª–∏—Ä—É—é—â–∏–π—Å—è –∫–æ–¥:**

```typescript
// ‚ùå –ü–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –≤ –ö–ê–ñ–î–û–ú –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ:

// 1. –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
const getAvailableStatuses = (): PlanStatusInfo[] => {
  // 45 —Å—Ç—Ä–æ–∫ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ–≥–æ –∫–æ–¥–∞
};

// 2. –§—É–Ω–∫—Ü–∏—è —Ü–≤–µ—Ç–∞ —Å—Ç–∞—Ç—É—Å–∞
const getPlanStatusColor = (status: PlanStatus): string => {
  // 15 —Å—Ç—Ä–æ–∫ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ–≥–æ –∫–æ–¥–∞
};

// 3. –§—É–Ω–∫—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ —Å—Ç–∞—Ç—É—Å–∞
const getPlanStatusText = (status: PlanStatus): string => {
  // 15 —Å—Ç—Ä–æ–∫ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ–≥–æ –∫–æ–¥–∞
};

// 4. –õ–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
useEffect(() => {
  const fetchUser = async () => {
    const user = await getCurrentUser();
    setCurrentUser(user);
  };
  fetchUser();
}, []);

// 5. State –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
const [isOpen, setIsOpen] = useState(false);
const [errors, setErrors] = useState<any>({});
```

**–†–µ—à–µ–Ω–∏–µ:**

**–®–∞–≥ 1:** –°–æ–∑–¥–∞—Ç—å –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
```typescript
// src/lib/plans/plan-utils.ts
export function getAvailableStatuses(
  currentStatus?: PlanStatus,
  userRole?: UserRole
): PlanStatusInfo[] {
  // –ï–¥–∏–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
}

export function getPlanStatusColor(status: PlanStatus): string {
  const colors = {
    draft: 'bg-gray-100 text-gray-800',
    submitted: 'bg-blue-100 text-blue-800',
    approved: 'bg-green-100 text-green-800',
    // ...
  };
  return colors[status] || 'bg-gray-100 text-gray-800';
}

export function getPlanStatusText(status: PlanStatus): string {
  const texts = {
    draft: '–ß–µ—Ä–Ω–µ—Ç–∫–∞',
    submitted: '–í—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ',
    approved: '–ó–∞—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ',
    // ...
  };
  return texts[status] || status;
}
```

**–®–∞–≥ 2:** –°–æ–∑–¥–∞—Ç—å –æ–±—â–∏–π —Ö—É–∫
```typescript
// src/hooks/usePlanModal.ts
export function usePlanModal() {
  const [currentUser, setCurrentUser] = useState<UserInfo | null>(null);
  const [isLoading, setIsLoading] = useState(false);
  const [errors, setErrors] = useState<Record<string, string>>({});

  useEffect(() => {
    const fetchUser = async () => {
      const user = await getCurrentUser();
      setCurrentUser(user);
    };
    fetchUser();
  }, []);

  return { currentUser, isLoading, errors, setErrors, setIsLoading };
}
```

**–®–∞–≥ 3:** –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
```typescript
// src/components/planning/BasePlanModal.tsx
interface BasePlanModalProps {
  isOpen: boolean;
  onClose: () => void;
  onSuccess: () => void;
  title: string;
  children: React.ReactNode;
}

export function BasePlanModal({
  isOpen,
  onClose,
  onSuccess,
  title,
  children,
}: BasePlanModalProps) {
  const { currentUser, isLoading } = usePlanModal();

  return (
    <Modal open={isOpen} onCancel={onClose} title={title}>
      {children}
    </Modal>
  );
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ 180 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞ —É–¥–∞–ª–µ–Ω–æ
- ‚úÖ –õ–µ–≥—á–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
- ‚úÖ –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

---

### 4. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ KPI

**–§–∞–π–ª—ã:**
- `src/types/kpi.ts`
- `src/components/dashboard/content/kpi/types.ts`

**–ü—Ä–æ–±–ª–µ–º–∞:**

```typescript
// ‚ùå src/types/kpi.ts
export interface KPIData {
  processId: string;
  processName: string;
  values: number[];
  // ...
}

// ‚ùå src/components/dashboard/content/kpi/types.ts
export interface KPIData {
  process_id: string;    // ‚ö†Ô∏è –†–∞–∑–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–æ–ª–µ–π!
  process_name: string;
  current_value: number;
  // ...
}
```

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// ‚úÖ –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ñ–∞–π–ª —Ç–∏–ø–æ–≤
// src/types/kpi.ts
export interface KPIData {
  processId: string;
  processName: string;
  currentValue: number;
  targetValue: number;
  unit: string;
  trend: 'up' | 'down' | 'stable';
}

// –£–¥–∞–ª–∏—Ç—å src/components/dashboard/content/kpi/types.ts
```

---

## üóëÔ∏è –ù–ï–ò–°–ü–û–õ–¨–ó–£–ï–ú–´–ï –§–ê–ô–õ–´

### –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –∫ —É–¥–∞–ª–µ–Ω–∏—é

| –§–∞–π–ª | –ü—Ä–∏—á–∏–Ω–∞ | –†–∞–∑–º–µ—Ä | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|------|---------|--------|-----------|
| `src/lib/msalAuth.ts` | –ü–æ–ª–Ω–æ—Å—Ç—å—é –¥—É–±–ª–∏—Ä—É–µ—Ç `auth/index.ts` | 163 —Å—Ç—Ä–æ–∫–∏ | üî¥ –í–´–°–û–ö–ò–ô |
| `src/lib/plan-service.ts` | –ó–∞–º–µ–Ω–µ–Ω –Ω–∞ `plans/plan-service.ts` | 250 —Å—Ç—Ä–æ–∫ | üü† –°–†–ï–î–ù–ò–ô |
| `src/context/PlansContext.tsx` | –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | 80 —Å—Ç—Ä–æ–∫ | üü° –ù–ò–ó–ö–ò–ô |
| `src_backup/` | –°—Ç–∞—Ä—ã–π –∫–æ–¥ | –í—Å—è –ø–∞–ø–∫–∞ | üü¢ –ú–û–ñ–ù–û |
| `organize_project.bat` | –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ | 2 KB | üü¢ –ú–û–ñ–ù–û |
| `migrate-structure.*` | –°–∫—Ä–∏–ø—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏ | 4 KB | üü¢ –ú–û–ñ–ù–û |
| `MIGRATION.md` | –î–æ–∫—É–º–µ–Ω—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ | 2 KB | üü¢ –ú–û–ñ–ù–û |
| `update-imports.js` | –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è | 1.7 KB | üü¢ –ú–û–ñ–ù–û |

**–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è:**
```bash
# –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
rm src/lib/msalAuth.ts
rm src/lib/plan-service.ts
rm -rf src_backup/
rm organize_project.bat
rm migrate-structure.bat
rm migrate-structure.sh
rm MIGRATION.md
rm update-imports.js
```

---

## üìù –ö–ê–ß–ï–°–¢–í–û TYPESCRIPT –¢–ò–ü–ò–ó–ê–¶–ò–ò

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `any`

**–í—Å–µ–≥–æ –Ω–∞–π–¥–µ–Ω–æ:** 121 –≤—Ö–æ–∂–¥–µ–Ω–∏–µ

**–¢–æ–ø-5 —Ñ–∞–π–ª–æ–≤ —Å `any`:**
```
1. src/types/database.types.ts       - 16 (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ)
2. src/components/planning/*          - 8
3. src/lib/kpiStore.ts               - 6
4. src/components/dashboard/Tasks/*  - 5
5. src/services/graph/*              - 4
```

### –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

#### 1. `any` –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫
```typescript
// ‚ùå –ü–õ–û–•–û
const errors: any = {};
errors[field] = message;

// ‚úÖ –•–û–†–û–®–û
const errors: Record<string, string> = {};
errors[field] = message;
```

#### 2. `any` –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö
```typescript
// ‚ùå –ü–õ–û–•–û
function handleData(data: any) {
  return data.map((item: any) => item.id);
}

// ‚úÖ –•–û–†–û–®–û
interface DataItem {
  id: string;
  name: string;
}

function handleData(data: DataItem[]) {
  return data.map(item => item.id);
}
```

#### 3. `any` –≤ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
```typescript
// ‚ùå –ü–õ–û–•–û
const handleChange = (e: any) => {
  setValue(e.target.value);
};

// ‚úÖ –•–û–†–û–®–û
const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
  setValue(e.target.value);
};
```

### –•–æ—Ä–æ—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ

#### ‚úÖ Union types –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤
```typescript
export type PlanStatus =
  | 'draft'
  | 'submitted'
  | 'approved'
  | 'active'
  | 'completed'
  | 'failed'
  | 'returned';
```

#### ‚úÖ Type guards
```typescript
function isPlanStatus(value: string): value is PlanStatus {
  return ['draft', 'submitted', 'approved', ...].includes(value);
}
```

#### ‚úÖ Interfaces –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```typescript
interface PlanModalProps {
  isOpen: boolean;
  onClose: () => void;
  onSuccess: () => void;
  plan?: AnnualPlan;
}
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–í–∫–ª—é—á–∏—Ç—å `noImplicitAny`**
```json
// tsconfig.json
{
  "compilerOptions": {
    "noImplicitAny": true,
    "strictNullChecks": true
  }
}
```

2. **–°–æ–∑–¥–∞—Ç—å utility types**
```typescript
// src/types/utils.ts
export type AsyncReturnType<T extends (...args: any) => Promise<any>> =
  T extends (...args: any) => Promise<infer R> ? R : any;

export type Nullable<T> = T | null;
export type Optional<T> = T | undefined;
```

3. **–ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ `any` –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã**
```bash
# –ù–∞–π—Ç–∏ –≤—Å–µ any
grep -r ": any" src/ --include="*.ts" --include="*.tsx"

# –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –∑–∞–º–µ–Ω—è—Ç—å –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã
```

---

## üóÑÔ∏è –°–¢–†–£–ö–¢–£–†–ê –ë–ê–ó–´ –î–ê–ù–ù–´–•

### –¢–∞–±–ª–∏—Ü—ã (11 –æ—Å–Ω–æ–≤–Ω—ã—Ö)

```sql
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   user_profiles     ‚îÇ  -- –ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ id (PK)             ‚îÇ
‚îÇ azure_id (unique)   ‚îÇ
‚îÇ email (unique)      ‚îÇ
‚îÇ full_name           ‚îÇ
‚îÇ role                ‚îÇ
‚îÇ status              ‚îÇ
‚îÇ department_id (FK)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îÇ 1:N
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   annual_plans      ‚îÇ  -- –ì–æ–¥–æ–≤—ã–µ –ø–ª–∞–Ω—ã
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ id (PK)             ‚îÇ
‚îÇ user_id (FK)        ‚îÇ
‚îÇ year                ‚îÇ
‚îÇ goal                ‚îÇ
‚îÇ status              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îÇ 1:N
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ quarterly_plans     ‚îÇ  -- –ö–≤–∞—Ä—Ç–∞–ª—å–Ω—ã–µ –ø–ª–∞–Ω—ã
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ id (PK)             ‚îÇ
‚îÇ annual_plan_id (FK) ‚îÇ
‚îÇ quarter             ‚îÇ
‚îÇ objective           ‚îÇ
‚îÇ status              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îÇ 1:N
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   weekly_plans      ‚îÇ  -- –ù–µ–¥–µ–ª—å–Ω—ã–µ –ø–ª–∞–Ω—ã
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ id (PK)             ‚îÇ
‚îÇ quarterly_plan_id   ‚îÇ
‚îÇ process_id (FK)     ‚îÇ
‚îÇ week_start          ‚îÇ
‚îÇ week_end            ‚îÇ
‚îÇ status              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îÇ 1:N
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   weekly_tasks      ‚îÇ  -- –ó–∞–¥–∞—á–∏
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ id (PK)             ‚îÇ
‚îÇ weekly_plan_id (FK) ‚îÇ
‚îÇ title               ‚îÇ
‚îÇ description         ‚îÇ
‚îÇ status              ‚îÇ
‚îÇ priority            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (Views)

#### `v_annual_plans`
```sql
-- –ì–æ–¥–æ–≤—ã–µ –ø–ª–∞–Ω—ã —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
SELECT
  ap.*,
  up.full_name as author_name,
  up.email as author_email,
  d.name as department_name
FROM annual_plans ap
LEFT JOIN user_profiles up ON ap.user_id = up.id
LEFT JOIN departments d ON up.department_id = d.id;
```

#### `v_weekly_plans`
```sql
-- –ù–µ–¥–µ–ª—å–Ω—ã–µ –ø–ª–∞–Ω—ã —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
SELECT
  wp.*,
  p.name as process_name,
  p.code as process_code,
  up.full_name as author_name,
  -- ...–º–Ω–æ–∂–µ—Å—Ç–≤–æ join'–æ–≤
FROM weekly_plans wp
LEFT JOIN processes p ON wp.process_id = p.id
LEFT JOIN user_profiles up ON wp.user_id = up.id
-- ... –µ—â–µ 5+ join'–æ–≤
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–ª–æ–∂–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º join'–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º–∏

#### `v_quarterly_reports` ‚ùå
**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤:** `src/lib/services/report-service.ts`
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–ï –°–£–©–ï–°–¢–í–£–ï–¢ –≤ database.types.ts

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥

### RPC –§—É–Ω–∫—Ü–∏–∏

#### `manage_annual_plan()`
```sql
CREATE OR REPLACE FUNCTION manage_annual_plan(
  p_user_id UUID,
  p_year INTEGER,
  p_goal TEXT,
  p_expected_result TEXT,
  p_status plan_status DEFAULT 'draft',
  p_plan_id UUID DEFAULT NULL
) RETURNS UUID AS $$
-- –°–æ–∑–¥–∞–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥–æ–¥–æ–≤–æ–≥–æ –ø–ª–∞–Ω–∞
$$;
```

#### `upsert_user_profile()`
```sql
CREATE OR REPLACE FUNCTION upsert_user_profile(
  p_email TEXT,
  p_full_name TEXT,
  p_role user_role,
  p_status user_status DEFAULT 'active',
  p_department_id UUID DEFAULT NULL,
  p_photo_base64 TEXT DEFAULT NULL
) RETURNS UUID AS $$
-- –°–æ–∑–¥–∞–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
$$;
```

### –ü—Ä–æ–±–ª–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

1. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤**
```sql
-- ‚ùå –ù–µ—Ç –∏–Ω–¥–µ–∫—Å–æ–≤ –Ω–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ–ª—è
-- –î–æ–±–∞–≤–∏—Ç—å:
CREATE INDEX idx_annual_plans_user_id ON annual_plans(user_id);
CREATE INDEX idx_weekly_plans_status ON weekly_plans(status);
CREATE INDEX idx_user_profiles_email ON user_profiles(email);
```

2. **–ù–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏–∏**
```typescript
// ‚ùå –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –í–°–ï –ø–ª–∞–Ω—ã
const plans = await supabase.from('v_annual_plans').select('*');

// ‚úÖ –° –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
const plans = await supabase
  .from('v_annual_plans')
  .select('*')
  .range(0, 49)  // –ü–µ—Ä–≤—ã–µ 50 –∑–∞–ø–∏—Å–µ–π
  .order('created_at', { ascending: false });
```

3. **–•—Ä–∞–Ω–µ–Ω–∏–µ base64 —Ñ–æ—Ç–æ**
```sql
-- ‚ùå photo_base64 TEXT - –∑–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞
-- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Supabase Storage
-- –•—Ä–∞–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ URL: photo_url TEXT
```

---

## üì¶ –ê–ù–ê–õ–ò–ó –û–°–ù–û–í–ù–´–• –ú–û–î–£–õ–ï–ô

### 1. –ú–æ–¥—É–ª—å "–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è"

#### –§–∞–π–ª—ã:
```
src/lib/auth/
‚îú‚îÄ‚îÄ index.ts (439 —Å—Ç—Ä–æ–∫) ‚úÖ –û–°–ù–û–í–ù–û–ô
‚îú‚îÄ‚îÄ config.ts (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
‚îî‚îÄ‚îÄ graph.ts (Graph API auth)

src/components/auth/
‚îú‚îÄ‚îÄ LoginContainer.tsx
‚îú‚îÄ‚îÄ LoginForm.tsx
‚îú‚îÄ‚îÄ AzureLoginButton.tsx
‚îî‚îÄ‚îÄ LoginPageContent.tsx
```

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
```typescript
// ‚úÖ –•–æ—Ä–æ—à–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è MSAL
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ Azure AD
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Supabase
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (5 –º–∏–Ω—É—Ç TTL)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ InteractionRequired

// ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è:
- –í–∞–ª–∏–¥–∞—Ü–∏—è JWT –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- Rate limiting –¥–ª—è –≤—Ö–æ–¥–∞
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
```

#### –û—Ü–µ–Ω–∫–∞: 7/10

---

### 2. –ú–æ–¥—É–ª—å "–ü–ª–∞–Ω—ã"

#### –§–∞–π–ª—ã:
```
src/lib/plans/
‚îú‚îÄ‚îÄ plan-service.ts (180 —Å—Ç—Ä–æ–∫) ‚úÖ –ù–û–í–´–ô
‚îî‚îÄ‚îÄ index.ts (—ç–∫—Å–ø–æ—Ä—Ç)

src/lib/plan-service.ts (250 —Å—Ç—Ä–æ–∫) ‚ùå –°–¢–ê–†–´–ô

src/components/planning/
‚îú‚îÄ‚îÄ AnnualPlanModal.tsx (180 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ QuarterlyPlanModal.tsx (200 —Å—Ç—Ä–æ–∫)
‚îî‚îÄ‚îÄ WeeklyPlanModal.tsx (300 —Å—Ç—Ä–æ–∫)
```

#### –ü—Ä–æ–±–ª–µ–º—ã:
```typescript
// ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:
- 2 –≤–µ—Ä—Å–∏–∏ plan-service
- 180 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞ –≤ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã:
// AnnualPlanModal.tsx –∏ QuarterlyPlanModal.tsx
import { PlanService } from '@/lib/plan-service';  // –°–¢–ê–†–´–ô

// ‚úÖ –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
import { manageAnnualPlan } from '@/lib/plans/plan-service';
```

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
```typescript
// ‚úÖ –•–æ—Ä–æ—à–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- RPC –≤—ã–∑–æ–≤—ã —á–µ—Ä–µ–∑ Supabase
- –†–∞–±–æ—Ç–∞ —á–µ—Ä–µ–∑ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (views)
- TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è

// ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è:
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI
```

#### –û—Ü–µ–Ω–∫–∞: 5/10 (–∏–∑-–∑–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è)

---

### 3. –ú–æ–¥—É–ª—å "–ó–∞–¥–∞—á–∏"

#### –§–∞–π–ª—ã:
```
src/lib/tasks/
‚îî‚îÄ‚îÄ task-service.ts (23 —Å—Ç—Ä–æ–∫–∏) ‚ö†Ô∏è –ú–ò–ù–ò–ú–ê–õ–¨–ù–´–ô

src/components/dashboard/Tasks/
‚îú‚îÄ‚îÄ WeeklyPlansTasksBoard.tsx (350 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ WeeklyPlanCard.tsx
‚îî‚îÄ‚îÄ AddTaskModal.tsx
```

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
```typescript
// ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
export async function getTasksByWeeklyPlanId(weeklyPlanId: string) {
  const { data } = await supabase
    .from('weekly_tasks')
    .select('*')
    .eq('weekly_plan_id', weeklyPlanId);
  return data || [];
}

// ‚ùå –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- createTask()
- updateTask()
- deleteTask()
- changeTaskStatus()
- assignTask()
```

#### –ü—Ä–æ–±–ª–µ–º—ã:
```typescript
// ‚ùå –õ–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
// WeeklyPlansTasksBoard.tsx:150
const handleAddTask = async (taskData: any) => {
  const { data, error } = await supabase
    .from('weekly_tasks')
    .insert([taskData]);
  // –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ!
};

// ‚úÖ –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ —Å–µ—Ä–≤–∏—Å–µ:
// src/lib/tasks/task-service.ts
export async function createTask(taskData: TaskCreateData) {
  return await supabase.rpc('manage_weekly_task', {
    p_action: 'create',
    ...taskData
  });
}
```

#### –û—Ü–µ–Ω–∫–∞: 3/10 (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ)

---

### 4. –ú–æ–¥—É–ª—å "–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏"

#### –§–∞–π–ª—ã:
```
src/components/employees/
‚îî‚îÄ‚îÄ EmployeeFormModal.tsx (250 —Å—Ç—Ä–æ–∫)

src/components/dashboard/content/
‚îî‚îÄ‚îÄ EmployeesContent.tsx (200 —Å—Ç—Ä–æ–∫)
```

#### –ü—Ä–æ–±–ª–µ–º—ã:
```typescript
// ‚ùå –ù–ï–¢ –°–ï–†–í–ò–°–ê –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏
// –í—Å—è –ª–æ–≥–∏–∫–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

// EmployeeFormModal.tsx:100
const handleSubmit = async () => {
  const { data, error } = await supabase.rpc('upsert_user_profile', {
    p_email: email,
    p_full_name: fullName,
    // ...
  });
};

// ‚úÖ –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–µ—Ä–≤–∏—Å:
// src/lib/services/employees.service.ts
export async function createEmployee(data: EmployeeData) { ... }
export async function updateEmployee(id: string, data: Partial<EmployeeData>) { ... }
export async function getEmployees(filters?: EmployeeFilters) { ... }
export async function deleteEmployee(id: string) { ... }
```

#### –û—Ü–µ–Ω–∫–∞: 4/10 (–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Å–ª–æ—è)

---

### 5. –ú–æ–¥—É–ª—å "KPI"

#### –§–∞–π–ª—ã:
```
src/types/kpi.ts (–±–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã)
src/components/dashboard/content/kpi/
‚îú‚îÄ‚îÄ types.ts (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã) ‚ö†Ô∏è –î–£–ë–õ–ò–†–û–í–ê–ù–ò–ï
‚îú‚îÄ‚îÄ KPICard.tsx
‚îú‚îÄ‚îÄ ProcessKPIChart.tsx
‚îú‚îÄ‚îÄ DepartmentKPIChart.tsx
‚îî‚îÄ‚îÄ kpiUtils.ts

src/lib/kpiStore.ts (138 —Å—Ç—Ä–æ–∫) ‚ö†Ô∏è Custom store
```

#### –ü—Ä–æ–±–ª–µ–º—ã:
```typescript
// ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤:
// src/types/kpi.ts
export interface KPIData { ... }

// src/components/dashboard/content/kpi/types.ts
export interface KPIData { ... }  // –î—Ä—É–≥–∏–µ –ø–æ–ª—è!

// ‚ùå Custom state management:
// src/lib/kpiStore.ts
class KPIStoreManager {
  private store: Map<string, any> = new Map();
  // 138 —Å—Ç—Ä–æ–∫ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —Å—Ç–æ—Ä–∞
}

// ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Zustand:
import create from 'zustand';

export const useKPIStore = create((set) => ({
  kpis: [],
  fetchKPIs: async () => { ... },
}));
```

#### –û—Ü–µ–Ω–∫–∞: 5/10 (—É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

---

### 6. –ú–æ–¥—É–ª—å "–û—Ç—á–µ—Ç—ã"

#### –§–∞–π–ª—ã:
```
src/lib/services/
‚îú‚îÄ‚îÄ report-service.ts (10 —Å—Ç—Ä–æ–∫) ‚ö†Ô∏è –ú–ò–ù–ò–ú–ê–õ–¨–ù–´–ô
‚îî‚îÄ‚îÄ weekly-report-service.ts

src/components/dashboard/reports/
‚îú‚îÄ‚îÄ QuarterlyReportsTable.tsx
‚îú‚îÄ‚îÄ QuarterlyReportCard.tsx
‚îî‚îÄ‚îÄ WeeklyPlansDetails.tsx
```

#### –ü—Ä–æ–±–ª–µ–º—ã:
```typescript
// ‚ùå –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:
// src/lib/services/report-service.ts
export async function getQuarterlyReports() {
  const { data } = await supabase
    .from('v_quarterly_reports')  // ‚ùå –ù–ï –°–£–©–ï–°–¢–í–£–ï–¢!
    .select('*');
  return data || [];
}

// ‚ùå –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
// ‚ùå –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
// ‚ùå –ù–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏/—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
```

#### –û—Ü–µ–Ω–∫–∞: 2/10 (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ)

---

## ‚ö° –ü–†–û–ë–õ–ï–ú–´ –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò

### 1. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

#### –ü—Ä–æ–±–ª–µ–º–∞:
```typescript
// ‚ùå –ö–∞–∂–¥—ã–π —Ä–∞–∑ –∑–∞–ø—Ä–æ—Å –∫ –ë–î
const PlansContent = () => {
  const [plans, setPlans] = useState([]);

  useEffect(() => {
    fetchPlans();  // –ó–∞–ø—Ä–æ—Å –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
  }, []);
};
```

#### –†–µ—à–µ–Ω–∏–µ:
```typescript
// ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å SWR
import useSWR from 'swr';

const PlansContent = () => {
  const { data: plans, error } = useSWR(
    '/api/plans',
    fetcher,
    { revalidateOnFocus: false, dedupingInterval: 60000 }
  );
};
```

---

### 2. –ó–∞–≥—Ä—É–∑–∫–∞ –±–æ–ª—å—à–∏—Ö –Ω–∞–±–æ—Ä–æ–≤ –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

#### –ü—Ä–æ–±–ª–µ–º–∞:
```typescript
// ‚ùå –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –í–°–ï –ø–ª–∞–Ω—ã
const { data } = await supabase
  .from('v_weekly_plans')
  .select('*');
// –ú–æ–∂–µ—Ç –±—ã—Ç—å 1000+ –∑–∞–ø–∏—Å–µ–π!
```

#### –†–µ—à–µ–Ω–∏–µ:
```typescript
// ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è
const PAGE_SIZE = 50;

const { data, count } = await supabase
  .from('v_weekly_plans')
  .select('*', { count: 'exact' })
  .range(page * PAGE_SIZE, (page + 1) * PAGE_SIZE - 1)
  .order('created_at', { ascending: false });
```

---

### 3. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ JOIN'—ã –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è—Ö

#### –ü—Ä–æ–±–ª–µ–º–∞:
```sql
-- v_weekly_plans –∏–º–µ–µ—Ç 5+ JOIN'–æ–≤
-- –ú–µ–¥–ª–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü
```

#### –†–µ—à–µ–Ω–∏–µ:
```sql
-- 1. –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã
CREATE INDEX idx_weekly_plans_process_id ON weekly_plans(process_id);
CREATE INDEX idx_weekly_plans_user_id ON weekly_plans(user_id);

-- 2. –ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
CREATE MATERIALIZED VIEW mv_weekly_plans_summary AS
SELECT ... -- —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
WITH NO DATA;

-- –û–±–Ω–æ–≤–ª—è—Ç—å —Ä–∞–∑ –≤ —á–∞—Å
REFRESH MATERIALIZED VIEW CONCURRENTLY mv_weekly_plans_summary;
```

---

### 4. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤

#### –ü—Ä–æ–±–ª–µ–º–∞:
```typescript
// ‚ùå –†–µ–Ω–¥–µ—Ä–∏—Ç 100+ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
<div>
  {plans.map(plan => (
    <PlanCard key={plan.id} plan={plan} />
  ))}
</div>
```

#### –†–µ—à–µ–Ω–∏–µ:
```typescript
// ‚úÖ –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å react-window
import { FixedSizeList } from 'react-window';

<FixedSizeList
  height={600}
  itemCount={plans.length}
  itemSize={100}
  width="100%"
>
  {({ index, style }) => (
    <div style={style}>
      <PlanCard plan={plans[index]} />
    </div>
  )}
</FixedSizeList>
```

---

### 5. –ù–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

#### –ü—Ä–æ–±–ª–µ–º–∞:
```typescript
// ‚ùå base64 —Ñ–æ—Ç–æ –≤ –ë–î
photo_base64: "data:image/jpeg;base64,/9j/4AAQSkZJRg..." // 500 KB+
```

#### –†–µ—à–µ–Ω–∏–µ:
```typescript
// ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Supabase Storage
// 1. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª
const { data } = await supabase.storage
  .from('avatars')
  .upload(`${userId}.jpg`, file, {
    cacheControl: '3600',
    upsert: true
  });

// 2. –ü–æ–ª—É—á–∏—Ç—å URL
const { data: { publicUrl } } = supabase.storage
  .from('avatars')
  .getPublicUrl(`${userId}.jpg`);

// 3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ URL
photo_url: publicUrl  // 50 bytes –≤–º–µ—Å—Ç–æ 500 KB
```

---

### 6. –ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

#### –ü—Ä–æ–±–ª–µ–º–∞:
```typescript
// ‚ùå –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
const user = await getCurrentUser();       // 200ms
const plans = await getPlans(user.id);     // 300ms
const tasks = await getTasks(plans[0].id); // 250ms
// –í—Å–µ–≥–æ: 750ms
```

#### –†–µ—à–µ–Ω–∏–µ:
```typescript
// ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
const [user, plans, stats] = await Promise.all([
  getCurrentUser(),       // \
  getPlans(),            //  > 300ms (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
  getStatistics(),       // /
]);
// –í—Å–µ–≥–æ: 300ms (–≤ 2.5 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ!)
```

---

## üìã –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô

### –§–ê–ó–ê 1: –°–†–û–ß–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø (1-2 –¥–Ω—è)

#### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 - –ö–†–ò–¢–ò–ß–ù–û üî¥

**1.1. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å - –£–¥–∞–ª–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã**
```bash
# –î–µ–π—Å—Ç–≤–∏—è:
1. –î–æ–±–∞–≤–∏—Ç—å –≤ .gitignore:
   echo ".env.local" >> .gitignore
   echo ".env*.local" >> .gitignore

2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Git –∏—Å—Ç–æ—Ä–∏—é:
   git log --all -- .env.local

3. –ï—Å–ª–∏ —Ñ–∞–π–ª –≤ Git - —É–¥–∞–ª–∏—Ç—å –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏:
   git filter-branch --force --index-filter \
     "git rm --cached --ignore-unmatch .env.local" \
     --prune-empty -- --all

4. –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —Ä–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á–∏:
   - Supabase: Dashboard ‚Üí Settings ‚Üí API ‚Üí Reset
   - Azure: Portal ‚Üí App Registration ‚Üí Certificates & secrets ‚Üí New

5. Commit:
   git add .gitignore
   git commit -m "security: add .env.local to gitignore"
```

**–í—Ä–µ–º—è:** 30 –º–∏–Ω—É—Ç
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** DevOps/Security

---

**1.2. –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è —Ñ–∞–π–ª—ã**
```bash
# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π msalAuth
rm src/lib/msalAuth.ts
git add src/lib/msalAuth.ts
git commit -m "refactor: remove duplicate msalAuth.ts"
```

**–í—Ä–µ–º—è:** 10 –º–∏–Ω—É—Ç

---

**1.3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –ø–ª–∞–Ω–æ–≤**

–§–∞–π–ª: `src/components/planning/AnnualPlanModal.tsx`
```typescript
// –ë–´–õ–û:
import { PlanService } from '@/lib/plan-service';
const result = await PlanService.manageAnnualPlan({...});

// –°–¢–ê–õ–û:
import { manageAnnualPlan } from '@/lib/plans/plan-service';
const result = await manageAnnualPlan({...});
```

–§–∞–π–ª: `src/components/planning/QuarterlyPlanModal.tsx`
```typescript
// –¢–æ –∂–µ —Å–∞–º–æ–µ
```

**–í—Ä–µ–º—è:** 20 –º–∏–Ω—É—Ç

---

**1.4. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π plan-service.ts**
```bash
rm src/lib/plan-service.ts
git add src/lib/plan-service.ts
git commit -m "refactor: remove old plan-service.ts"
```

**–í—Ä–µ–º—è:** 5 –º–∏–Ω—É—Ç

---

#### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 - –í–´–°–û–ö–ò–ô üü†

**1.5. –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é JWT**

–°–æ–∑–¥–∞—Ç—å: `src/lib/auth/jwt-validator.ts`
```typescript
import { jwtVerify, SignJWT } from 'jose';

const JWT_SECRET = new TextEncoder().encode(
  process.env.JWT_SECRET || 'your-secret-key-min-32-chars'
);

export async function verifyJWT(token: string) {
  try {
    const { payload } = await jwtVerify(token, JWT_SECRET);
    return payload;
  } catch (error) {
    throw new Error('Invalid token');
  }
}

export async function signJWT(payload: any) {
  return await new SignJWT(payload)
    .setProtectedHeader({ alg: 'HS256' })
    .setExpirationTime('1d')
    .sign(JWT_SECRET);
}
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ API routes:
```typescript
// src/app/api/auth/check/route.ts
import { verifyJWT } from '@/lib/auth/jwt-validator';

export async function GET(request: NextRequest) {
  const token = request.cookies.get('auth-token')?.value;

  if (!token) {
    return NextResponse.json({ error: 'No token' }, { status: 401 });
  }

  try {
    const payload = await verifyJWT(token);
    return NextResponse.json({ user: payload });
  } catch (error) {
    return NextResponse.json({ error: 'Invalid token' }, { status: 401 });
  }
}
```

**–í—Ä–µ–º—è:** 1 —á–∞—Å

---

**1.6. –ò—Å–ø—Ä–∞–≤–∏—Ç—å cookies –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

–§–∞–π–ª: `src/lib/auth/index.ts:38-43`
```typescript
// –ë–´–õ–û:
Cookies.set('auth-status', 'authenticated', {
  expires: 1,
  path: '/',
  sameSite: 'lax',
});

// –°–¢–ê–õ–û:
Cookies.set('auth-status', 'authenticated', {
  expires: 1,
  path: '/',
  sameSite: 'strict',
  secure: true,
  httpOnly: true,
});
```

**–í—Ä–µ–º—è:** 10 –º–∏–Ω—É—Ç

---

### –§–ê–ó–ê 2: –†–ï–§–ê–ö–¢–û–†–ò–ù–ì (3-5 –¥–Ω–µ–π)

#### 2.1. –ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ KPI

**–î–µ–π—Å—Ç–≤–∏–µ:**
1. –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ `src/components/dashboard/content/kpi/types.ts`
2. –£–¥–∞–ª–∏—Ç—å `src/types/kpi.ts`
3. –û–±–Ω–æ–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã

**–í—Ä–µ–º—è:** 30 –º–∏–Ω—É—Ç

---

#### 2.2. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω

–°–æ–∑–¥–∞—Ç—å: `src/components/planning/common/BasePlanModal.tsx`
```typescript
interface BasePlanModalProps {
  isOpen: boolean;
  onClose: () => void;
  onSuccess: () => void;
  title: string;
  children: React.ReactNode;
}

export function BasePlanModal(props: BasePlanModalProps) {
  const { currentUser, isLoading } = usePlanModal();

  return (
    <Modal
      open={props.isOpen}
      onCancel={props.onClose}
      title={props.title}
      width={800}
    >
      {props.children}
    </Modal>
  );
}
```

–°–æ–∑–¥–∞—Ç—å: `src/components/planning/common/StatusSelector.tsx`
```typescript
interface StatusSelectorProps {
  currentStatus?: PlanStatus;
  onChange: (status: PlanStatus) => void;
  userRole?: UserRole;
}

export function StatusSelector(props: StatusSelectorProps) {
  const statuses = getAvailableStatuses(props.currentStatus, props.userRole);

  return (
    <Select value={props.currentStatus} onChange={props.onChange}>
      {statuses.map(status => (
        <Select.Option key={status.value} value={status.value}>
          {status.label}
        </Select.Option>
      ))}
    </Select>
  );
}
```

**–í—Ä–µ–º—è:** 4 —á–∞—Å–∞

---

#### 2.3. –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

–°–æ–∑–¥–∞—Ç—å: `src/lib/services/employees.service.ts`
```typescript
export interface EmployeeData {
  email: string;
  fullName: string;
  role: UserRole;
  status: UserStatus;
  departmentId?: string;
  photoBase64?: string;
}

export async function getEmployees(filters?: {
  status?: UserStatus;
  departmentId?: string;
  role?: UserRole;
}) {
  let query = supabase
    .from('user_profiles')
    .select('*, departments(name)');

  if (filters?.status) {
    query = query.eq('status', filters.status);
  }
  if (filters?.departmentId) {
    query = query.eq('department_id', filters.departmentId);
  }
  if (filters?.role) {
    query = query.eq('role', filters.role);
  }

  const { data, error } = await query;
  if (error) throw error;
  return data;
}

export async function createEmployee(data: EmployeeData) {
  const { data: result, error } = await supabase.rpc('upsert_user_profile', {
    p_email: data.email,
    p_full_name: data.fullName,
    p_role: data.role,
    p_status: data.status,
    p_department_id: data.departmentId,
    p_photo_base64: data.photoBase64,
  });

  if (error) throw error;
  return result;
}

export async function updateEmployee(
  id: string,
  data: Partial<EmployeeData>
) {
  // –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ createEmployee
}

export async function deleteEmployee(id: string) {
  const { error } = await supabase
    .from('user_profiles')
    .delete()
    .eq('id', id);

  if (error) throw error;
}
```

**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞

---

#### 2.4. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ –∑–∞–¥–∞—á

–§–∞–π–ª: `src/lib/tasks/task-service.ts`
```typescript
export interface TaskCreateData {
  weeklyPlanId: string;
  title: string;
  description?: string;
  priority: 'low' | 'medium' | 'high';
  assigneeId?: string;
}

export async function createTask(data: TaskCreateData) {
  const { data: result, error } = await supabase.rpc('manage_weekly_task', {
    p_action: 'create',
    p_weekly_plan_id: data.weeklyPlanId,
    p_title: data.title,
    p_description: data.description,
    p_priority: data.priority,
    p_assignee_id: data.assigneeId,
  });

  if (error) throw error;
  return result;
}

export async function updateTask(
  taskId: string,
  data: Partial<TaskCreateData>
) {
  // ...
}

export async function deleteTask(taskId: string) {
  // ...
}

export async function changeTaskStatus(
  taskId: string,
  status: TaskStatus
) {
  // ...
}
```

**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞

---

### –§–ê–ó–ê 3: –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø (1 –Ω–µ–¥–µ–ª—è)

#### 3.1. –î–æ–±–∞–≤–∏—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é

**–°–æ–∑–¥–∞—Ç—å —Ö—É–∫:** `src/hooks/usePagination.ts`
```typescript
export function usePagination<T>(
  fetchFn: (page: number, pageSize: number) => Promise<T[]>,
  pageSize: number = 50
) {
  const [page, setPage] = useState(0);
  const [data, setData] = useState<T[]>([]);
  const [hasMore, setHasMore] = useState(true);
  const [isLoading, setIsLoading] = useState(false);

  const loadMore = async () => {
    if (isLoading || !hasMore) return;

    setIsLoading(true);
    const newData = await fetchFn(page, pageSize);

    if (newData.length < pageSize) {
      setHasMore(false);
    }

    setData([...data, ...newData]);
    setPage(page + 1);
    setIsLoading(false);
  };

  return { data, loadMore, hasMore, isLoading };
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
const PlansContent = () => {
  const { data: plans, loadMore, hasMore } = usePagination(
    async (page, pageSize) => {
      const { data } = await supabase
        .from('v_annual_plans')
        .select('*')
        .range(page * pageSize, (page + 1) * pageSize - 1);
      return data || [];
    }
  );

  return (
    <div>
      {plans.map(plan => <PlanCard key={plan.id} plan={plan} />)}
      {hasMore && <button onClick={loadMore}>–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â–µ</button>}
    </div>
  );
};
```

**–í—Ä–µ–º—è:** 3 —á–∞—Å–∞

---

#### 3.2. –î–æ–±–∞–≤–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é

**–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:**
```bash
npm install react-window
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
import { FixedSizeList } from 'react-window';

const PlansList = ({ plans }: { plans: Plan[] }) => {
  return (
    <FixedSizeList
      height={600}
      itemCount={plans.length}
      itemSize={120}
      width="100%"
    >
      {({ index, style }) => (
        <div style={style}>
          <PlanCard plan={plans[index]} />
        </div>
      )}
    </FixedSizeList>
  );
};
```

**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞

---

#### 3.3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–ü–ª–∞–Ω:**
1. –ú–∏–≥—Ä–∞—Ü–∏—è —Å base64 –Ω–∞ Supabase Storage
2. –°–æ–∑–¥–∞–Ω–∏–µ bucket –¥–ª—è –∞–≤–∞—Ç–∞—Ä–æ–≤
3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –∑–∞–≥—Ä—É–∑–∫–∏

**–°–æ–∑–¥–∞—Ç—å:** `src/lib/storage/avatar-service.ts`
```typescript
export async function uploadAvatar(
  userId: string,
  file: File
): Promise<string> {
  const { data, error } = await supabase.storage
    .from('avatars')
    .upload(`${userId}.jpg`, file, {
      cacheControl: '3600',
      upsert: true
    });

  if (error) throw error;

  const { data: { publicUrl } } = supabase.storage
    .from('avatars')
    .getPublicUrl(`${userId}.jpg`);

  return publicUrl;
}

export async function getAvatarUrl(userId: string): Promise<string> {
  const { data: { publicUrl } } = supabase.storage
    .from('avatars')
    .getPublicUrl(`${userId}.jpg`);

  return publicUrl;
}
```

**–í—Ä–µ–º—è:** 4 —á–∞—Å–∞

---

#### 3.4. –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å SWR

**–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:**
```bash
npm install swr
```

**–°–æ–∑–¥–∞—Ç—å:** `src/lib/fetcher.ts`
```typescript
export const fetcher = async (url: string) => {
  const res = await fetch(url);
  if (!res.ok) throw new Error('Failed to fetch');
  return res.json();
};
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
import useSWR from 'swr';
import { fetcher } from '@/lib/fetcher';

const PlansContent = () => {
  const { data: plans, error, mutate } = useSWR(
    '/api/plans',
    fetcher,
    {
      revalidateOnFocus: false,
      dedupingInterval: 60000, // 1 –º–∏–Ω—É—Ç–∞
    }
  );

  if (error) return <div>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</div>;
  if (!plans) return <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>;

  return <PlansList plans={plans} />;
};
```

**–í—Ä–µ–º—è:** 2 —á–∞—Å–∞

---

### –§–ê–ó–ê 4: –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï (1 –Ω–µ–¥–µ–ª—è)

#### 4.1. Unit —Ç–µ—Å—Ç—ã

**–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:**
```bash
npm install --save-dev jest @testing-library/react @testing-library/jest-dom
```

**–°–æ–∑–¥–∞—Ç—å:** `jest.config.js`
```javascript
module.exports = {
  preset: 'next',
  testEnvironment: 'jsdom',
  setupFilesAfterEnv: ['<rootDir>/jest.setup.js'],
  moduleNameMapper: {
    '^@/(.*)$': '<rootDir>/src/$1',
  },
};
```

**–ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤:**

`src/lib/plans/__tests__/plan-service.test.ts`
```typescript
import { manageAnnualPlan } from '../plan-service';

describe('Plan Service', () => {
  it('should create annual plan', async () => {
    const result = await manageAnnualPlan({
      userId: 'test-user',
      year: 2026,
      goal: 'Test goal',
      expectedResult: 'Test result',
    });

    expect(result).toBeDefined();
  });
});
```

**–í—Ä–µ–º—è:** 3 –¥–Ω—è

---

#### 4.2. E2E —Ç–µ—Å—Ç—ã

**–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:**
```bash
npm install --save-dev @playwright/test
```

**–°–æ–∑–¥–∞—Ç—å:** `tests/e2e/login.spec.ts`
```typescript
import { test, expect } from '@playwright/test';

test('user can login', async ({ page }) => {
  await page.goto('/login');

  await page.click('button:has-text("–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Microsoft")');

  // –û–∂–∏–¥–∞–µ–º —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ dashboard
  await expect(page).toHaveURL(/.*dashboard/);
});
```

**–í—Ä–µ–º—è:** 2 –¥–Ω—è

---

### –§–ê–ó–ê 5: –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø (2-3 –¥–Ω—è)

#### 5.1. –û–±–Ω–æ–≤–∏—Ç—å README.md

–î–æ–±–∞–≤–∏—Ç—å:
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã
- API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- Troubleshooting

**–í—Ä–µ–º—è:** 1 –¥–µ–Ω—å

---

#### 5.2. –°–æ–∑–¥–∞—Ç—å CONTRIBUTING.md

–í–∫–ª—é—á–∏—Ç—å:
- –ü—Ä–∞–≤–∏–ª–∞ –∫–æ–º–º–∏—Ç–æ–≤
- Code style guide
- Pull request –ø—Ä–æ—Ü–µ—Å—Å

**–í—Ä–µ–º—è:** 3 —á–∞—Å–∞

---

#### 5.3. –î–æ–±–∞–≤–∏—Ç—å JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

–ü—Ä–∏–º–µ—Ä:
```typescript
/**
 * –°–æ–∑–¥–∞–µ—Ç –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –≥–æ–¥–æ–≤–æ–π –ø–ª–∞–Ω
 * @param params - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–ª–∞–Ω–∞
 * @param params.userId - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 * @param params.year - –ì–æ–¥ –ø–ª–∞–Ω–∞
 * @param params.goal - –¶–µ–ª—å –ø–ª–∞–Ω–∞
 * @returns ID —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ/–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –ø–ª–∞–Ω–∞
 * @throws {Error} –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω
 */
export async function manageAnnualPlan(params: AnnualPlanParams): Promise<string> {
  // ...
}
```

**–í—Ä–µ–º—è:** 1 –¥–µ–Ω—å

---

## üìä –ú–ï–¢–†–ò–ö–ò –ö–ê–ß–ï–°–¢–í–ê

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –û—Ü–µ–Ω–∫–∞ | –°—Ç–∞—Ç—É—Å |
|-----------|--------|--------|
| **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** | 3/10 | üî¥ –ö–†–ò–¢–ò–ß–ù–û |
| **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** | 6/10 | ‚ö†Ô∏è –¢–†–ï–ë–£–ï–¢ –£–õ–£–ß–®–ï–ù–ò–ô |
| **–ö–æ–¥ –∫–∞—á–µ—Å—Ç–≤–æ** | 5/10 | ‚ö†Ô∏è –¢–†–ï–ë–£–ï–¢ –£–õ–£–ß–®–ï–ù–ò–ô |
| **TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è** | 7/10 | ‚ö†Ô∏è –•–û–†–û–®–û |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | 6/10 | ‚ö†Ô∏è –¢–†–ï–ë–£–ï–¢ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò |
| **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** | 2/10 | üî¥ –û–¢–°–£–¢–°–¢–í–£–ï–¢ |
| **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** | 4/10 | ‚ö†Ô∏è –ú–ò–ù–ò–ú–ê–õ–¨–ù–ê–Ø |
| **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞** | 5/10 | ‚ùå –ö–†–ò–¢–ò–ß–ù–û |

### –¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (–ø–æ—Å–ª–µ —É–ª—É—á—à–µ–Ω–∏–π)

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–µ–∫—É—â–∞—è | –¶–µ–ª–µ–≤–∞—è | –£–ª—É—á—à–µ–Ω–∏–µ |
|-----------|---------|---------|-----------|
| **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** | 3/10 | 9/10 | +200% |
| **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** | 6/10 | 8/10 | +33% |
| **–ö–æ–¥ –∫–∞—á–µ—Å—Ç–≤–æ** | 5/10 | 8/10 | +60% |
| **TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è** | 7/10 | 9/10 | +29% |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | 6/10 | 8/10 | +33% |
| **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** | 2/10 | 7/10 | +250% |
| **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** | 4/10 | 8/10 | +100% |
| **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞** | 5/10 | 9/10 | +80% |

### –î–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

#### –†–∞–∑–º–µ—Ä –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã

```
–í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤ TypeScript: 103
–í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞: ~15,000
–°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 145 —Å—Ç—Ä–æ–∫

–°–∞–º—ã–µ –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã:
1. src/lib/auth/index.ts - 439 —Å—Ç—Ä–æ–∫
2. src/components/dashboard/Tasks/WeeklyPlansTasksBoard.tsx - 350 —Å—Ç—Ä–æ–∫
3. src/components/planning/WeeklyPlanModal.tsx - 300 —Å—Ç—Ä–æ–∫
4. src/lib/plan-service.ts - 250 —Å—Ç—Ä–æ–∫ (—É–¥–∞–ª–∏—Ç—å)
5. src/components/employees/EmployeeFormModal.tsx - 250 —Å—Ç—Ä–æ–∫
```

#### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

```
–¢–µ–∫—É—â–µ–µ: 0%
–¶–µ–ª—å: 80%+

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:
1. Utils —Ñ—É–Ω–∫—Ü–∏–∏: 90%+
2. Services: 80%+
3. Hooks: 70%+
4. Components: 60%+
```

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ TypeScript

```
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ any: 121 –≤—Ö–æ–∂–¥–µ–Ω–∏–π
–¶–µ–ª—å: < 20 –≤—Ö–æ–∂–¥–µ–Ω–∏–π

Strict mode: ‚úÖ –í–∫–ª—é—á–µ–Ω
noImplicitAny: ‚ùå –ù–µ –≤–∫–ª—é—á–µ–Ω (–≤–∫–ª—é—á–∏—Ç—å)
strictNullChecks: ‚úÖ –í–∫–ª—é—á–µ–Ω
```

#### Bundle Size

```
–¢–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä: ~800 KB (–Ω–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)
–¶–µ–ª—å: < 500 KB

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- Code splitting: ‚úÖ
- Tree shaking: ‚úÖ
- Dynamic imports: ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- Image optimization: ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
```

---

## üéØ –ò–¢–û–ì–û–í–´–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–°–ï–ì–û–î–ù–Ø)

1. ‚úÖ **–£–¥–∞–ª–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –∏–∑ .env.local**
   - –î–æ–±–∞–≤–∏—Ç—å –≤ .gitignore
   - –†–æ—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∫–ª—é—á–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Git –∏—Å—Ç–æ—Ä–∏—é

2. ‚úÖ **–£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–π—Å—è –∫–æ–¥**
   - –£–¥–∞–ª–∏—Ç—å `src/lib/msalAuth.ts`
   - –£–¥–∞–ª–∏—Ç—å `src/lib/plan-service.ts`
   - –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã

3. ‚úÖ **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å cookies**
   - sameSite: 'strict'
   - secure: true
   - httpOnly: true

### –ù–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ

4. ‚úÖ **–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é JWT**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å jose
   - –°–æ–∑–¥–∞—Ç—å jwt-validator.ts
   - –û–±–Ω–æ–≤–∏—Ç—å API routes

5. ‚úÖ **–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤**
   - employees.service.ts
   - –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

6. ‚úÖ **–†–∞—Å—à–∏—Ä–∏—Ç—å —Å–µ—Ä–≤–∏—Å –∑–∞–¥–∞—á**
   - createTask, updateTask, deleteTask
   - –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –ù–∞ —Å–ª–µ–¥—É—é—â–µ–π –Ω–µ–¥–µ–ª–µ

7. ‚úÖ **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω**
   - –°–æ–∑–¥–∞—Ç—å BasePlanModal
   - –°–æ–∑–¥–∞—Ç—å StatusSelector
   - –í—ã–Ω–µ—Å—Ç–∏ –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã

8. ‚úÖ **–î–æ–±–∞–≤–∏—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é**
   - –°–æ–∑–¥–∞—Ç—å usePagination hook
   - –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

9. ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
   - –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (SWR)
   - –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### –í —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞

10. ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
    - Unit —Ç–µ—Å—Ç—ã (80%+ –ø–æ–∫—Ä—ã—Ç–∏–µ)
    - E2E —Ç–µ—Å—Ç—ã (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ—Ç–æ–∫–∏)

11. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
    - –û–±–Ω–æ–≤–∏—Ç—å README
    - –î–æ–±–∞–≤–∏—Ç—å JSDoc
    - –°–æ–∑–¥–∞—Ç—å CONTRIBUTING.md

12. ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
    - –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã
    - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å views
    - –ú–∏–≥—Ä–∞—Ü–∏—è —Å base64 –Ω–∞ Storage

---

## üìû –ö–û–ù–¢–ê–ö–¢–´ –ò –ü–û–î–î–ï–†–ñ–ö–ê

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –ø–æ —ç—Ç–æ–º—É –æ—Ç—á–µ—Ç—É:

1. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/` –ø–∞–ø–∫–∞
2. **Issues:** GitHub Issues
3. **Email:** dev@example.com

---

**–ö–æ–Ω–µ—Ü –æ—Ç—á–µ—Ç–∞**

*–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ: 2026-01-14*
*–í–µ—Ä—Å–∏—è: 1.0.0*
