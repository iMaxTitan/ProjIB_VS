const { createClient } = require('@supabase/supabase-js');

const supabase = createClient(
  'https://lfsdttsvihyejplmzaaz.supabase.co',
  'sb_publishable_En8BLIpCy4F40M8o157ulA_WETR0E2S'
);

const descriptions = {
  'Управління правами доступу': `Політика управління правами доступу встановлює єдині правила надання, контролю та використання доступу до інформаційних систем Компанії.
Ключовою метою цієї Політики є захист інформаційних систем від несанкціонованого використання, зміни чи розкриття даних, що в них зберігаються або оброблюються. Це досягається шляхом надання доступу як привілею, що базується виключно на службових обов'язках співробітника.`,

  'Управління безпекою інформаційних систем': `Політика управління безпекою інформаційних систем визначає єдиний підхід до забезпечення безпеки інформаційних систем Компанії на всіх етапах їх життєвого циклу, від планування до виведення з експлуатації.
Основною метою документа є захист ІС та даних, що в них обробляються, від загроз, а також забезпечення стабільної роботи систем та їх відповідності вимогам бізнесу та законодавства.`,

  'Управління безпекою обчислювальних систем': `Політика управління безпекою обчислювальних систем визначає єдині вимоги до забезпечення безпеки обчислювальних систем Компанії, що включають сервери, робочі комп'ютери та ноутбуки, а також мобільні пристрої (планшети, смартфони тощо).
Метою є захист цих систем та даних в них від несанкціонованого доступу, шкідливих програм та пошкодження, а також забезпечення їх стабільної та безпечної роботи.`,

  'Управління безпекою мережі': `Політика управління безпекою мережі визначає єдині вимоги до забезпечення безпеки комп'ютерної мережі Компанії, включаючи дротові, бездротові (Wi-Fi) мережі та підключення до Інтернету.
Метою є захист мережевої інфраструктури та даних, що нею передаються, від несанкціонованого доступу та перехоплення, а також забезпечення стабільної та доступної роботи мережевих сервісів для підтримки безперебійної роботи бізнес-процесів.`,

  'Моніторинг та реагування на події та інциденти ІБ': `Політика моніторингу та реагування на події та інциденти ІБ визначає єдиний підхід до виявлення, аналізу, реагування та розслідування подій та інцидентів інформаційної безпеки.
Метою є зниження ймовірності виникнення інцидентів, а у разі їх настання – мінімізація наслідків для бізнес-процесів та репутації Компанії, а також аналіз причин їх появи для запобігання повторенню в майбутньому.`,

  'Захист даних': `Політика захисту даних встановлює єдині правила поводження з важливою інформацією Компанії, з метою її захисту від втрати, витоку чи несанкціонованих змін.
Захист даних в Компанії означає забезпечення її:
- конфіденційності: доступ до даних мають лише ті співробітники, яким він потрібен для роботи;
- цілісності: дані є точними, повними та захищеними від неправомірних змін;
- доступності: дані готові до використання у потрібний для роботи час.`,

  'Управлінська та організаційна діяльність': `Управлінська та організаційна діяльність`,

  'Управління ризиками інформаційної безпеки': `Політика управління ризиками інформаційної безпеки визначає єдиний, системний підхід до виявлення, аналізу, оцінки та обробки ризиків інформаційної безпеки в Компанії.
Метою є забезпечення прийняття обґрунтованих рішень щодо захисту даних Компанії, що дозволяє збалансувати бізнес-цілі та необхідний рівень безпеки.`,

  'Навчання та підвищення обізнаності у сфері ІБ': `Політика навчання та підвищення обізнаності у сфері ІБ визначає єдиний підхід Компанії до організації навчання та підвищення обізнаності всіх співробітників з питань інформаційної безпеки.
Метою є формування у співробітників знань та навичок, необхідних для розуміння загроз, дотримання правил безпеки та усвідомлення особистої ролі у захисті даних Компанії.`,

  'Управління документацією СУІБ': `Політика управління документацією СУІБ визначає єдиний підхід до управління життєвим циклом документованої інформації Системи управління інформаційною безпекою.
Метою є забезпечення того, щоб документація СУІБ була точною, актуальною, доступною для уповноважених користувачів та відповідала вимогам законодавства України, стандарту ISO 27001 і внутрішнім потребам Компанії.`,

  'Безперервність інформаційної безпеки': `Політика управління безперервністю ІБ визначає єдиний підхід до управління життєвим циклом документованої інформації Системи управління інформаційною безпекою.
Метою є забезпечення того, щоб документація СУІБ була точною, актуальною, доступною для уповноважених користувачів та відповідала вимогам законодавства України, стандарту ISO 27001 і внутрішнім потребам Компанії.`
};

async function main() {
  console.log('Updating process descriptions...\n');

  for (const [name, description] of Object.entries(descriptions)) {
    const { error } = await supabase
      .from('processes')
      .update({ description })
      .eq('process_name', name);

    if (error) {
      console.log(`✗ ${name}: ${error.message}`);
    } else {
      console.log(`✓ ${name}`);
    }
  }

  // Verify
  console.log('\nVerifying...');
  const { data } = await supabase
    .from('processes')
    .select('process_name, description')
    .order('process_name');

  data.forEach(p => {
    const hasDesc = p.description ? '✓' : '✗';
    console.log(`${hasDesc} ${p.process_name}`);
  });
}

main();
